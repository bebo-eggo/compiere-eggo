<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE jasperReport PUBLIC "-//JasperReports//DTD JasperReport//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">

<jasperReport name="RPT_Order" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="0" bottomMargin="20" resourceBundle="traduction">
	<property name="ireport.zoom" value="1.331000000000002"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="96"/>
	<parameter name="RECORD_ID" class="java.lang.Double"/>
	<parameter name="URL" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["."]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
 nvl((select 'AC' from c_doctype where upper(name) like '%ACOMPTE%' and c_doctype_id=o.c_doctypetarget_id),(select upper(substr(name,0,2)) from c_doctype where c_doctype_id=o.c_doctypetarget_id)) as DOCTYPEPREFIX,
    cl.name             AS AD_CLIENT_NAME,
    o.AD_CLIENT_ID      AS AD_CLIENT_ID,
    o.documentno        AS DOCUMENTNO,
    bp.taxid            as TAXID,
    o.dateOrdered       AS DATEORDERED,
    o.AD_ORG_ID         AS AD_ORG_ID,
    doc.name            AS DocType,
    case when o.AD_CLIENT_ID = 1000022 then doc.PrintName else doctrl.name   end      as docName,
bp.ad_language,
 doctrlnl.name as docNameNL,
decode(o.c_doctypetarget_id,1000102,'Y','N') as ISTICKET,
    inv.z_com,
    o.bill_location_id,
    o.c_bpartner_location_id,
    salesRep.value      AS SALESREP_CODE,
(substr(REPLACE(regexp_substr(bp2.name2,'[^-]*-?',1,1),'-'),0,1) ||''||substr(REPLACE(regexp_substr(bp2.name2,'[^-]*-?',1,2),'-'),0,1)
||''||substr(REPLACE(regexp_substr(bp2.name2,'[^ ]* ?',1,2),' '),0,1)
|| '.' || bp2.name ) AS SALESREP_NAME,
    salesRep.phone    AS SALESREPPHONE,
    o.c_doctypetarget_id AS DOCTYPE_ID,
  bp.value as refClient,
(select sum(payamt) from c_payment p where  p.c_order_id = o.c_order_id)  as payamt,
(o.Z_soldegi+ nvl(
(select ol.priceentered  from c_orderline ol
inner join m_product mp on mp.m_product_id=ol.m_product_id
where ol.c_order_id= $P{RECORD_ID} and upper(mp.value) like '%PAYEGI%'),0)
) as Z_soldegi,
pt.documentnote as documentnote,doc.C_DocType_ID as DOCTYPE_ID,bkacctondocument(o.ad_client_id) as bank_acc,
CASE WHEN  o.dateOrdered < TO_DATE('01/08/2015','DD/MM/YYYY') THEN 2 else 1 end as CAS,
CASE WHEN  o.dateOrdered < TO_DATE('24/10/2017','DD/MM/YYYY') THEN 1 else 2 end as CASL,
getTypeOrg(o.AD_ORG_ID) as orgtype,
doci.ISEGGO,
doci.ISPOS, o.ISSOTRX
from c_order o
left outer join c_invoice inv on (inv.c_order_id = o.c_order_id and inv.C_Invoice_ID =  getMaxInvoiceIDFromORDER(o.c_order_id))
join c_bpartner bp on  (bp.c_bpartner_id = o.c_bpartner_id)

left join c_greeting g on (g.c_greeting_id = bp.c_greeting_id)
JOIN c_bpartner_location bl ON (bl.c_bpartner_location_id = o.C_BPartner_Location_ID)
JOIN c_location l ON (l.c_location_id = bl.c_location_id)
JOIN c_country co ON (co.c_country_id = l.c_country_id)
INNER JOIN Ad_Client cl ON cl.ad_client_id = o.ad_client_id
INNER JOIN c_doctype doc ON doc.c_doctype_id=o.c_doctypetarget_id
inner join c_doctypeinfo doci on doc.c_doctype_id = doci.c_doctype_id
inner join c_doctype_trl doctrl ON (doctrl.c_doctype_id=doc.c_doctype_id and doctrl.ad_language='fr_FR')
inner join c_doctype_trl doctrlnl ON (doctrlnl.c_doctype_id=doc.c_doctype_id and doctrlnl.ad_language='nl_NL')
INNER JOIN ad_user salesRep ON salesrep.ad_user_id = o.salesrep_id
INNER JOIN c_bpartner bp2 on bp2.c_bpartner_id = salesRep.c_bpartner_id
left join c_paymentterm pt on pt.c_paymentterm_id=o.c_paymentterm_id

where o.c_Order_ID = $P{RECORD_ID}
and o.c_doctypetarget_id not in (1000846,1003716)]]>
	</queryString>
	<field name="DOCTYPEPREFIX" class="java.lang.String"/>
	<field name="AD_CLIENT_NAME" class="java.lang.String"/>
	<field name="AD_CLIENT_ID" class="java.math.BigDecimal"/>
	<field name="DOCUMENTNO" class="java.lang.String"/>
	<field name="TAXID" class="java.lang.String"/>
	<field name="DATEORDERED" class="java.sql.Timestamp"/>
	<field name="AD_ORG_ID" class="java.math.BigDecimal"/>
	<field name="DOCTYPE" class="java.lang.String"/>
	<field name="DOCNAME" class="java.lang.String"/>
	<field name="AD_LANGUAGE" class="java.lang.String"/>
	<field name="DOCNAMENL" class="java.lang.String"/>
	<field name="ISTICKET" class="java.lang.String"/>
	<field name="Z_COM" class="java.lang.String"/>
	<field name="BILL_LOCATION_ID" class="java.math.BigDecimal"/>
	<field name="C_BPARTNER_LOCATION_ID" class="java.math.BigDecimal"/>
	<field name="SALESREP_CODE" class="java.lang.String"/>
	<field name="SALESREP_NAME" class="java.lang.String"/>
	<field name="SALESREPPHONE" class="java.lang.String"/>
	<field name="DOCTYPE_ID" class="java.math.BigDecimal"/>
	<field name="REFCLIENT" class="java.lang.String"/>
	<field name="PAYAMT" class="java.math.BigDecimal"/>
	<field name="Z_SOLDEGI" class="java.math.BigDecimal"/>
	<field name="DOCUMENTNOTE" class="java.lang.String"/>
	<field name="BANK_ACC" class="java.lang.String"/>
	<field name="CAS" class="java.math.BigDecimal"/>
	<field name="CASL" class="java.math.BigDecimal"/>
	<field name="ORGTYPE" class="java.lang.String"/>
	<field name="ISEGGO" class="java.lang.String"/>
	<field name="ISPOS" class="java.lang.String"/>
	<field name="ISSOTRX" class="java.lang.String"/>
	<pageHeader>
		<band height="316">
			<textField isStretchWithOverflow="true" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" mode="Transparent" x="0" y="300" width="81" height="16" forecolor="#000000" backcolor="#999999"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{product}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField-3" x="528" y="285" width="14" height="14"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{PAGE_NUMBER}+" /"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField-2" x="500" y="285" width="28" height="14"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["page"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField-4" x="542" y="285" width="12" height="14"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true" hyperlinkType="None">
				<reportElement key="textField" x="103" y="204" width="120" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="11" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000022?($F{DOCUMENTNO}.substring(0,($F{DOCUMENTNO}.length() - 4))):$F{DOCUMENTNO}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true" hyperlinkType="None">
				<reportElement key="textField" x="103" y="224" width="100" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.sql.Timestamp"><![CDATA[$F{DATEORDERED}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true" hyperlinkType="None">
				<reportElement key="textField" x="346" y="204" width="100" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{ISTICKET}.equals("N")?$F{REFCLIENT}:"")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="297" y="204" width="39" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{ISTICKET}.equals("N")?$R{customer} :"")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="54" y="224" width="39" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{date}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="54" y="204" width="39" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{corder.number}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true" hyperlinkType="None">
				<reportElement key="textField" x="346" y="224" width="76" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle" lineSpacing="1_1_2">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{ISTICKET}.equals("N")?($F{TAXID}==null?" ":$F{TAXID}):"")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="297" y="224" width="39" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle" lineSpacing="1_1_2">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{ISTICKET}.equals("N")?$R{rate}:"")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="93" y="224" width="10" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="93" y="204" width="10" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="336" y="204" width="10" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{ISTICKET}.equals("N")?":":""]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="5" y="82" width="250" height="90">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000000 || $F{AD_CLIENT_ID}.doubleValue()==1000024]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="AD_ORG_ID">
					<subreportParameterExpression><![CDATA[$F{AD_ORG_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/subreportOrg_Gest.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="290" y="76" width="243" height="93" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[$F{ISTICKET}.equals("N")]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="AD_Language">
					<subreportParameterExpression><![CDATA[$P{REPORT_LOCALE}.toString()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="C_BPartner_Location_ID">
					<subreportParameterExpression><![CDATA[$F{BILL_LOCATION_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_CLIENT_ID">
					<subreportParameterExpression><![CDATA[$F{AD_CLIENT_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/SubReport_InfoClient.jasper"]]></subreportExpression>
			</subreport>
			<rectangle>
				<reportElement mode="Transparent" x="114" y="177" width="327" height="20"/>
			</rectangle>
			<textField hyperlinkType="None">
				<reportElement x="114" y="177" width="327" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="13" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{AD_CLIENT_NAME}.equals("Euro Center")?$F{DOCNAME}.toUpperCase():
($F{DOCTYPEPREFIX}.equals("DE")?$R{quotation}.toUpperCase():$R{order.number}.toUpperCase())]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="336" y="224" width="10" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{ISTICKET}.equals("N")?":":"")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="93" y="244" width="10" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="54" y="244" width="39" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{vendor}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="103" y="244" width="245" height="20"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{SALESREP_NAME}+" ("+$F{SALESREP_CODE}+") "]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="12" y="265" width="516" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}==1000022
&& ($F{DOCTYPE_ID} ==1000120 || $F{DOCTYPE_ID} ==1000849)]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="is_adresse">
					<subreportParameterExpression><![CDATA[($F{C_BPARTNER_LOCATION_ID}.equals($F{BILL_LOCATION_ID}))? Boolean.FALSE : Boolean.TRUE]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Language">
					<subreportParameterExpression><![CDATA[$P{REPORT_LOCALE}.toString()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="C_BPartner_Location_ID">
					<subreportParameterExpression><![CDATA[$F{C_BPARTNER_LOCATION_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/SubReport_adresse_livraison_bon_vente.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true" hyperlinkType="None">
				<reportElement key="textField" x="193" y="204" width="62" height="20">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000022]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{DOCUMENTNO}.substring(($F{DOCUMENTNO}.length() - 4),($F{DOCUMENTNO}.length()))]]></textFieldExpression>
			</textField>
			<image hyperlinkType="None">
				<reportElement mode="Opaque" x="4" y="6" width="70" height="70">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue() == 1000000 || $F{AD_CLIENT_ID}.doubleValue() == 1000024]]></printWhenExpression>
				</reportElement>
				<imageExpression class="java.lang.String"><![CDATA[$P{URL}+"/LogoEggo.jpg"]]></imageExpression>
			</image>
			<image hyperlinkType="None">
				<reportElement key="image" mode="Opaque" x="4" y="6" width="70" height="70">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000022 && $F{DATEORDERED}.before(java.sql.Timestamp.valueOf("2015-08-01 00:00:00.0"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<imageExpression class="java.lang.String"><![CDATA[$P{URL}+"/LogoEC.png"]]></imageExpression>
			</image>
			<subreport>
				<reportElement x="5" y="82" width="250" height="90">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}==1000022]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="AD_ORG_ID">
					<subreportParameterExpression><![CDATA[$F{AD_ORG_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/subreport_Org.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" mode="Transparent" x="342" y="300" width="40" height="16" forecolor="#000000" backcolor="#999999"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{DOCTYPE_ID}!=1001674 && $F{DOCTYPE_ID}!=1002593 && $F{DOCTYPE_ID}!=1000102 && $F{DOCTYPE_ID}!=1005097 ? $R{c_order.delivred}:""]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" mode="Transparent" x="309" y="300" width="33" height="16" forecolor="#000000" backcolor="#999999"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{qantity}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" mode="Transparent" x="382" y="300" width="45" height="16" forecolor="#000000" backcolor="#999999"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{DOCTYPE_ID}!=1001674 && $F{DOCTYPE_ID}!=1002593 && $F{DOCTYPE_ID}!=1000102 && $F{DOCTYPE_ID}!=1005097 ? $R{c_order.to.delivred}:""]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" mode="Transparent" x="427" y="300" width="35" height="16" forecolor="#000000" backcolor="#999999"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{rate}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" mode="Transparent" x="512" y="300" width="43" height="16" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#999999"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle" markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{invoice.amounttc}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" mode="Transparent" x="81" y="300" width="228" height="16" forecolor="#000000" backcolor="#999999"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{description}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" mode="Transparent" x="462" y="300" width="50" height="16" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#999999"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle" markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{price}]]></textFieldExpression>
			</textField>
			<image vAlign="Middle" hyperlinkType="None">
				<reportElement x="1" y="0" width="70" height="70">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000022 && $F{DATEORDERED}.after(java.sql.Timestamp.valueOf("2015-07-31 00:00:00.0"))]]></printWhenExpression>
				</reportElement>
				<imageExpression class="java.lang.String"><![CDATA[$P{URL}+"/LOGOKM.png"]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<detail>
		<band height="14">
			<subreport isUsingCache="true">
				<reportElement key="subreport-2" stretchType="RelativeToBandHeight" x="0" y="0" width="555" height="14">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000022]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="RECORD_ID">
					<subreportParameterExpression><![CDATA[$P{RECORD_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ISSOTRX">
					<subreportParameterExpression><![CDATA[$F{ISSOTRX}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCTYPE_ID">
					<subreportParameterExpression><![CDATA[$F{DOCTYPE_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_ORG_ID">
					<subreportParameterExpression><![CDATA[$F{AD_ORG_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="lang">
					<subreportParameterExpression><![CDATA[$F{AD_LANGUAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/bonvente_SRLines.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true">
				<reportElement key="subreport-2" stretchType="RelativeToBandHeight" x="-1" y="0" width="555" height="14">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()!=1000022]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="RECORD_ID">
					<subreportParameterExpression><![CDATA[$P{RECORD_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ISSOTRX">
					<subreportParameterExpression><![CDATA[$F{ISSOTRX}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCTYPE_ID">
					<subreportParameterExpression><![CDATA[$F{DOCTYPE_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_ORG_ID">
					<subreportParameterExpression><![CDATA[$F{AD_ORG_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="lang">
					<subreportParameterExpression><![CDATA[$F{AD_LANGUAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/bonvente_SRLines_EGGO.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<pageFooter>
		<band height="111" isSplitAllowed="false">
			<textField hyperlinkType="None">
				<reportElement x="0" y="16" width="556" height="15">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000022]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single" markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{invoice.com_legal}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true" hyperlinkType="None">
				<reportElement x="367" y="0" width="189" height="16" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[($F{DOCTYPE_ID} ==1000120 || $F{DOCTYPE_ID} ==1000849)
&& $F{AD_CLIENT_NAME}.equals("Euro Center")]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{Z_COM}!=null ? $F{Z_COM}:$F{DOCUMENTNO}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Auto" hyperlinkType="None">
				<reportElement x="0" y="0" width="455" height="16" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[($F{DOCTYPE_ID} ==1000120 || $F{DOCTYPE_ID} ==1000849)
&& $F{AD_CLIENT_NAME}.equals("Euro Center")]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Référence structurée à rappeler en cas de paiement par virement:"]]></textFieldExpression>
			</textField>
			<textField hyperlinkType="None">
				<reportElement x="0" y="16" width="556" height="45" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000000]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single" markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{invoice.com_legal}]]></textFieldExpression>
			</textField>
			<textField hyperlinkType="None">
				<reportElement x="0" y="16" width="556" height="45" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000024]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single" markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{invoice.com_legal_LU}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Auto" hyperlinkType="None">
				<reportElement x="1" y="0" width="555" height="16">
					<printWhenExpression><![CDATA[!($F{DOCTYPE_ID}== 1001674 || $F{DOCTYPE_ID}==1005097 || $F{DOCTYPE_ID}== 1002593 || $F{DOCTYPE_ID}== 1005096) && ($F{AD_CLIENT_ID}.doubleValue()==1000024 || $F{AD_CLIENT_ID}.doubleValue()==1000000)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[msg($R{invoice.com_struct},"<b>"+($F{Z_COM}==null?$F{DOCUMENTNO}:$F{Z_COM})+"</b>")]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement positionType="FixRelativeToBottom" x="-1" y="61" width="555" height="50" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()!=1000000 && $F{AD_CLIENT_ID}.doubleValue()!=1000024]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="Ad_client_id">
					<subreportParameterExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Language">
					<subreportParameterExpression><![CDATA[$F{AD_LANGUAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CAS">
					<subreportParameterExpression><![CDATA[$F{CAS}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/subreportfooter_EC.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="FixRelativeToBottom" x="-1" y="61" width="555" height="50" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000000 || $F{AD_CLIENT_ID}.doubleValue()==1000024]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="Ad_client_id">
					<subreportParameterExpression><![CDATA[$F{AD_CLIENT_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Language">
					<subreportParameterExpression><![CDATA[$F{AD_LANGUAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CAS">
					<subreportParameterExpression><![CDATA[$F{CAS}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CASL">
					<subreportParameterExpression><![CDATA[$F{CASL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/subreportfooter.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="223">
			<subreport>
				<reportElement positionType="FixRelativeToBottom" x="0" y="172" width="555" height="50" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000000 || $F{AD_CLIENT_ID}.doubleValue()==1000024]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="Ad_client_id">
					<subreportParameterExpression><![CDATA[$F{AD_CLIENT_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Language">
					<subreportParameterExpression><![CDATA[$F{AD_LANGUAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CAS">
					<subreportParameterExpression><![CDATA[$F{CAS}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CASL">
					<subreportParameterExpression><![CDATA[$F{CASL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/subreportfooter.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="false">
				<reportElement key="subreport-8" positionType="FixRelativeToBottom" x="369" y="4" width="185" height="77" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[$F{ISPOS}=='Y']]></printWhenExpression>
				</reportElement>
				<subreportParameter name="RECORD_ID">
					<subreportParameterExpression><![CDATA[$P{RECORD_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCTYPE_ID">
					<subreportParameterExpression><![CDATA[$F{DOCTYPE_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCUMENTTYPE">
					<subreportParameterExpression><![CDATA["VE"]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL} + "/bonvente_tax_EC.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="false">
				<reportElement key="" positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" x="-1" y="4" width="185" height="61" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[!($F{DOCTYPE_ID}== 1000095 ||$F{DOCTYPE_ID}== 1001674 ||$F{DOCTYPE_ID}== 1002593 || $F{DOCTYPE_ID}==1005096 || $F{DOCTYPE_ID}==1005097)
&& !(($F{PAYAMT} == null ||$F{PAYAMT} == 0) && ($F{Z_SOLDEGI} == null || $F{Z_SOLDEGI}== 0)) && ($F{DOCTYPE_ID}!=1000028 && $F{DOCTYPE_ID}!=1004922 && $F{DOCTYPE_ID}!=1005282 && $F{DOCTYPE_ID}!=1005382)]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="RECORD_ID">
					<subreportParameterExpression><![CDATA[$P{RECORD_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/bonvente_payments.jasper"]]></subreportExpression>
			</subreport>
			<textField hyperlinkType="None">
				<reportElement x="-1" y="127" width="555" height="15">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000022]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single" markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{invoice.com_legal}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Auto" hyperlinkType="None">
				<reportElement x="-1" y="111" width="451" height="16" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[($F{DOCTYPE_ID} ==1000120 || $F{DOCTYPE_ID} ==1000849)
&& $F{AD_CLIENT_NAME}.equals("Euro Center")]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Référence structurée à rappeler en cas de paiement par virement:"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true" hyperlinkType="None">
				<reportElement x="371" y="111" width="184" height="16" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[($F{DOCTYPE_ID} ==1000120 || $F{DOCTYPE_ID} ==1000849)
&& $F{AD_CLIENT_NAME}.equals("Euro Center")]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{Z_COM}!=null ? $F{Z_COM}:$F{DOCUMENTNO}]]></textFieldExpression>
			</textField>
			<textField hyperlinkType="None">
				<reportElement x="0" y="85" width="555" height="26">
					<printWhenExpression><![CDATA[$F{DOCUMENTNOTE} == null ? false : true]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{DOCUMENTNOTE}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="false">
				<reportElement key="subreport-8" positionType="FixRelativeToBottom" x="369" y="4" width="185" height="77" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[$F{ISEGGO}=='Y']]></printWhenExpression>
				</reportElement>
				<subreportParameter name="RECORD_ID">
					<subreportParameterExpression><![CDATA[$P{RECORD_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCTYPE_ID">
					<subreportParameterExpression><![CDATA[$F{DOCTYPE_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCUMENTTYPE">
					<subreportParameterExpression><![CDATA["VE"]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL} + "/bonvente_tax_EGGO.jasper"]]></subreportExpression>
			</subreport>
			<textField hyperlinkType="None">
				<reportElement x="0" y="127" width="556" height="45" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000000]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single" markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{invoice.com_legal}]]></textFieldExpression>
			</textField>
			<textField hyperlinkType="None">
				<reportElement x="0" y="127" width="555" height="45" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()==1000024]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single" markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{invoice.com_legal_LU}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Auto" hyperlinkType="None">
				<reportElement x="0" y="111" width="555" height="16">
					<printWhenExpression><![CDATA[!($F{DOCTYPE_ID}== 1001674 || $F{DOCTYPE_ID}==1005097 || $F{DOCTYPE_ID}== 1002593 || $F{DOCTYPE_ID}== 1005096) && ($F{AD_CLIENT_ID}.doubleValue()==1000024 || $F{AD_CLIENT_ID}.doubleValue()==1000000)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[msg($R{invoice.com_struct},"<b>"+($F{Z_COM}==null?$F{DOCUMENTNO}:$F{Z_COM})+"</b>")]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement positionType="FixRelativeToBottom" x="1" y="172" width="555" height="50" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()!=1000000 && $F{AD_CLIENT_ID}.doubleValue()!=1000024]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="Ad_client_id">
					<subreportParameterExpression><![CDATA[$F{AD_CLIENT_ID}.doubleValue()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Language">
					<subreportParameterExpression><![CDATA[$F{AD_LANGUAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CAS">
					<subreportParameterExpression><![CDATA[$F{CAS}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/subreportfooter_EC.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</lastPageFooter>
	<summary>
		<band height="50">
			<subreport>
				<reportElement x="0" y="0" width="555" height="50">
					<printWhenExpression><![CDATA[$F{DOCTYPE_ID} ==1000120 || $F{DOCTYPE_ID} ==1000849
&& $F{AD_CLIENT_NAME}.equals("Eurocenter")]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="RECORD_ID">
					<subreportParameterExpression><![CDATA[$P{RECORD_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="URL">
					<subreportParameterExpression><![CDATA[$P{URL}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{URL}+"/bonvente_message_subreport.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
